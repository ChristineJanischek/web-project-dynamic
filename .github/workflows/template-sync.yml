name: Template Sync Info

# Dieser Workflow informiert Ã¼ber Template-Updates
# Student-Repos kÃ¶nnen Updates manuell Ã¼bernehmen

on:
  push:
    branches:
      - main
    paths:
      - 'docs/**'
      - 'version*/**'
      - 'README.md'
      - 'CONTRIBUTING.md'
      - '.github/workflows/**'

jobs:
  detect-changes:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 2
      
      - name: Detect Changed Files
        id: changes
        run: |
          echo "## ðŸ“¢ Template-Update verfÃ¼gbar" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "Folgende Dateien wurden aktualisiert:" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          git diff --name-only HEAD~1 HEAD >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ”„ So Ã¼bernimmst du die Updates:" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "1. **Template-Repo als Remote hinzufÃ¼gen:**" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`bash" >> $GITHUB_STEP_SUMMARY
          echo "git remote add template https://github.com/ChristineJanischek/web-project-dynamic.git" >> $GITHUB_STEP_SUMMARY
          echo "git fetch template" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "2. **Nur Dokumentation Ã¼bernehmen:**" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`bash" >> $GITHUB_STEP_SUMMARY
          echo "git checkout template/main -- docs/" >> $GITHUB_STEP_SUMMARY
          echo "git checkout template/main -- README.md" >> $GITHUB_STEP_SUMMARY
          echo "git commit -m 'ðŸ“š Update Dokumentation vom Template'" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "3. **Neue Version Ã¼bernehmen (z.B. Version 4):**" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`bash" >> $GITHUB_STEP_SUMMARY
          echo "git checkout template/main -- version4/" >> $GITHUB_STEP_SUMMARY
          echo "git commit -m 'âœ¨ Version 4 vom Template hinzugefÃ¼gt'" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "4. **Workflows aktualisieren:**" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`bash" >> $GITHUB_STEP_SUMMARY
          echo "git checkout template/main -- .github/workflows/" >> $GITHUB_STEP_SUMMARY
          echo "git commit -m 'ðŸ”§ Workflows vom Template aktualisiert'" >> $GITHUB_STEP_SUMMARY
          echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "âš ï¸ **Wichtig:** Ãœberschreibe niemals deine eigenen LÃ¶sungen in \`version*/aufgabe/\`!" >> $GITHUB_STEP_SUMMARY
